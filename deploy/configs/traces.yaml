# Copyright 2024-2026 Madhukar Beema, Distinguished Engineer. All rights reserved.
# Author: Madhukar Beema, Distinguished Engineer

# Traces signal configuration
tracing:
  enabled: true
  max_request_duration: 5m
  stitch_window: 2s
  filter:
    exclude_addresses:
      - "169.254.169.254"   # EC2 instance metadata
      - "0.0.0.0"           # SSL auto-register garbage (no connect kprobe)
    include_services:
      - "app"
      - "order-service"
      - "mcp-server"
      - "catalog-service"
      - "pricing-service"
      - "stock-service"
  protocols:
    http:
      enabled: true
    grpc:
      enabled: true
    postgres:
      enabled: true
    mysql:
      enabled: true
    redis:
      enabled: true
    mongodb:
      enabled: true
    dns:
      enabled: false        # DNS spans are noise (unknown service name)
    genai:
      enabled: true
    mcp:
      enabled: true

correlation:
  enabled: true
  strategy: pid_tid_timestamp
  window: 100ms
